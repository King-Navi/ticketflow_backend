AllowedEventSeatStatuses:
  type: array
  readOnly: true
  items:
    type: string
    enum: [available, reserved, blocked, sold]

EventWithInventoryCreateRequest:
  type: object
  additionalProperties: false
  required: [event, inventory]
  properties:
    event:
      $ref: "#/EventPayload"
    inventory:
      type: array
      minItems: 1
      items:
        $ref: "#/InventoryItem"

EventPayload:
  type: object
  additionalProperties: false
  required:
    - event_name
    - category
    - description
    - event_date
    - start_time
    - company_id
    - event_location_id
  properties:
    event_name:
      type: string
      minLength: 1
      maxLength: 150
    category:
      type: string
      minLength: 1
      maxLength: 100
    description:
      type: string
      minLength: 1
      maxLength: 500
    event_date:
      type: string
      description: "Date in YYYY-MM-DD format."
      pattern: "^[0-9]{4}-[0-9]{2}-[0-9]{2}$"
    start_time:
      type: string
      description: "Time in HH:mm:ss (24h)."
      pattern: "^(?:[01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d$"
    end_time:
      type: [string, "null"]
      nullable: true
      description: "Time in HH:mm:ss (24h). Must be greater than start_time when provided."
      pattern: "^(?:[01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d$"
    company_id:
      type: integer
      minimum: 1
    event_location_id:
      type: integer
      minimum: 1
    event_status_id:
      type: integer
      description: >
        Numeric event status ID. If omitted, the backend will default to 'draft' (1),
        assuming the seed order: 1=draft, 2=scheduled, 3=on_sale, 4=paused, 5=edit_lock,
        6=closed, 7=completed, 8=canceled.
      minimum: 1
      maximum: 8

InventoryItem:
  type: object
  additionalProperties: false
  required: [seat_id, base_price]
  properties:
    seat_id:
      type: integer
      minimum: 1
    base_price:
      type: number
      minimum: 0
      multipleOf: 0.01
    status:
      type: string
      enum: [available, reserved, blocked, sold]
      default: available
    category_label:
      type: string
      minLength: 1
      maxLength: 100

EventWithInventoryCreateResponse:
  type: object
  additionalProperties: false
  required: [event_id, event_location_id, inventory_created, counts]
  properties:
    event_id:
      type: integer
      minimum: 1
    event_location_id:
      type: integer
      minimum: 1
    event_status_id:
      type: integer
      minimum: 1
    inventory_created:
      type: array
      items:
        $ref: "#/InventoryCreatedItem"
    counts:
      $ref: "#/Counts"

InventoryCreatedItem:
  type: object
  additionalProperties: false
  required: [event_seat_id, seat_id, base_price, status]
  properties:
    event_seat_id:
      type: integer
      minimum: 1
    seat_id:
      type: integer
      minimum: 1
    base_price:
      type: number
      minimum: 0
      multipleOf: 0.01
    status:
      type: string
      enum: [available, reserved, blocked, sold]

Counts:
  type: object
  additionalProperties: false
  required: [requested, created]
  properties:
    requested:
      type: integer
      minimum: 0
    created:
      type: integer
      minimum: 0
